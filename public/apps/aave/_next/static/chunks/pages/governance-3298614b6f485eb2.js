(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{88441:function(e,r,t){"use strict";var n=t(63366),a=t(87462),o=t(67294),i=t(86010),s=t(94780),c=t(70917),l=t(41796),d=t(98216),u=t(2734),p=t(90948),x=t(71657),f=t(28962),h=t(85893);const v=["className","color","value","valueBuffer","variant"];let g,m,b,j,y,Z,w=e=>e;const k=(0,c.F4)(g||(g=w`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),P=(0,c.F4)(m||(m=w`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),O=(0,c.F4)(b||(b=w`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),A=(e,r)=>"inherit"===r?"currentColor":e.vars?e.vars.palette.LinearProgress[`${r}Bg`]:"light"===e.palette.mode?(0,l.$n)(e.palette[r].main,.62):(0,l._j)(e.palette[r].main,.5),C=(0,p.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`color${(0,d.Z)(t.color)}`],r[t.variant]]}})((({ownerState:e,theme:r})=>(0,a.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:A(r,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),S=(0,p.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.dashed,r[`dashedColor${(0,d.Z)(t.color)}`]]}})((({ownerState:e,theme:r})=>{const t=A(r,e.color);return(0,a.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,c.iv)(j||(j=w`
    animation: ${0} 3s infinite linear;
  `),O)),T=(0,p.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${(0,d.Z)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar1Indeterminate,"determinate"===t.variant&&r.bar1Determinate,"buffer"===t.variant&&r.bar1Buffer]}})((({ownerState:e,theme:r})=>(0,a.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(r.vars||r).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,c.iv)(y||(y=w`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),k))),D=(0,p.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${(0,d.Z)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar2Indeterminate,"buffer"===t.variant&&r.bar2Buffer]}})((({ownerState:e,theme:r})=>(0,a.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(r.vars||r).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:A(r,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,c.iv)(Z||(Z=w`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),P))),E=o.forwardRef((function(e,r){const t=(0,x.Z)({props:e,name:"MuiLinearProgress"}),{className:o,color:c="primary",value:l,valueBuffer:p,variant:g="indeterminate"}=t,m=(0,n.Z)(t,v),b=(0,a.Z)({},t,{color:c,variant:g}),j=(e=>{const{classes:r,variant:t,color:n}=e,a={root:["root",`color${(0,d.Z)(n)}`,t],dashed:["dashed",`dashedColor${(0,d.Z)(n)}`],bar1:["bar",`barColor${(0,d.Z)(n)}`,("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","buffer"!==t&&`barColor${(0,d.Z)(n)}`,"buffer"===t&&`color${(0,d.Z)(n)}`,("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,s.Z)(a,f.E,r)})(b),y=(0,u.Z)(),Z={},w={bar1:{},bar2:{}};if("determinate"===g||"buffer"===g)if(void 0!==l){Z["aria-valuenow"]=Math.round(l),Z["aria-valuemin"]=0,Z["aria-valuemax"]=100;let e=l-100;"rtl"===y.direction&&(e=-e),w.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===g)if(void 0!==p){let e=(p||0)-100;"rtl"===y.direction&&(e=-e),w.bar2.transform=`translateX(${e}%)`}else 0;return(0,h.jsxs)(C,(0,a.Z)({className:(0,i.Z)(j.root,o),ownerState:b,role:"progressbar"},Z,{ref:r},m,{children:["buffer"===g?(0,h.jsx)(S,{className:j.dashed,ownerState:b}):null,(0,h.jsx)(T,{className:j.bar1,ownerState:b,style:w.bar1}),"determinate"===g?null:(0,h.jsx)(D,{className:j.bar2,ownerState:b,style:w.bar2})]}))}));r.Z=E},28962:function(e,r,t){"use strict";t.d(r,{E:function(){return a}});var n=t(34867);function a(e){return(0,n.Z)("MuiLinearProgress",e)}const o=(0,t(1588).Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);r.Z=o},48938:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return _e},default:function(){return Be}});var n,a=t(59499),o=t(86886),i=t(55113),s=t(67294),c=t(44949),l=t(15629),d=t(85169),u=t(94471),p=t(19091),x=t(15861),f=t(94054),h=t(77931),v=t(19485),g=t(56371),m=t(56845),b=t(50029),j=t(17674),y=t(87794),Z=t.n(y),w=t(1279),k=t(58537),P=t(2450),O=t(45555),A=t(72005),C=t(27923),S=t(85893),T=s.createContext({}),D=function(e){var r=e.children,t=(0,O.f)(),n=t.currentNetworkConfig,a=t.jsonRpcProvider,o=t.currentChainId,i=(0,A.Z)().currentAccount,c=s.useState({aave:"0",aAave:"0",stkAave:"0"}),l=(0,j.Z)(c,2),d=l[0],u=l[1],x=s.useState(!1),f=(0,j.Z)(x,2),h=f[0],v=f[1],g=n.isFork&&n.underlyingChainId===k.d.chainId?a:(0,P.VH)(k.d.chainId),m=function(){var e=(0,b.Z)(Z().mark((function e(){var r,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,r=new p.P_({walletBalanceProviderAddress:k.d.walletBalanceProvider,provider:g}),e.next=5,r.batchBalanceOf([i],[k.d.aaveTokenAddress,k.d.aAaveTokenAddress,k.d.stkAaveTokenAddress]);case 5:t=e.sent,u({aave:(0,w.Fv)(t[0].toString(),18),aAave:(0,w.Fv)(t[1].toString(),18),stkAave:(0,w.Fv)(t[2].toString(),18)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,C.W)(m,6e4,!i||!k.d,[i,o]),(0,S.jsx)(T.Provider,{value:{daveTokens:d,loading:h},children:r})},E=t(40429),N=t(83063),I=t(44880),_=t(37096),B=t(36787),M=t(19408),R=t(87357),W=t(18972),G=t(37058),V=t(10315),F=t(75834),$={PaperProps:{style:{maxHeight:224,width:250}}},q=function(e){var r=e.delegationTokens,t=e.setDelegationToken,n=e.delegationTokenAddress;return(0,S.jsx)(f.Z,{variant:"standard",fullWidth:!0,sx:{mb:6},children:(0,S.jsx)(V.Z,{fullWidth:!0,value:n,onChange:function(e){return t(e.target.value)},input:(0,S.jsx)(G.Z,{}),MenuProps:$,native:!1,displayEmpty:!0,sx:{"& .MuiSvgIcon-root":{right:"12px"}},renderValue:function(e){if(!e)return(0,S.jsx)(R.Z,{sx:{display:"flex",flexDirection:"row",pr:"12px"},children:(0,S.jsx)(x.Z,{variant:"buttonM",children:"Select ..."})});var t=r.find((function(e){return e.address===n}));return(0,S.jsxs)(R.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",pr:"12px"},children:[(0,S.jsx)(F.T1,{symbol:t.symbol}),(0,S.jsx)(x.Z,{variant:"buttonM",sx:{ml:2,flexGrow:1},children:t.name}),(0,S.jsx)(x.Z,{variant:"buttonM",children:t.amount})]})},children:r.map((function(e){return(0,S.jsx)(W.Z,{value:e.address,disabled:"0"===e.amount,children:(0,S.jsxs)(R.Z,{sx:{display:"flex",flexDirection:"row",width:"100%"},children:[(0,S.jsx)(F.T1,{symbol:e.symbol,sx:{mx:"4px"}}),(0,S.jsx)(x.Z,{variant:"buttonM",sx:{ml:2,flexGrow:1},children:e.name}),(0,S.jsx)(x.Z,{variant:"buttonM",children:e.amount})]})},"delegation-token-".concat(e.address))}))})})},L={PaperProps:{style:{maxHeight:224,width:250}}},H=function(e){var r=e.delegationType,t=e.setDelegationType;return(0,S.jsx)(f.Z,{variant:"standard",fullWidth:!0,sx:{mb:6},children:(0,S.jsxs)(V.Z,{fullWidth:!0,input:(0,S.jsx)(G.Z,{}),MenuProps:L,value:r,sx:{"& .MuiSvgIcon-root":{right:"12px"}},onChange:function(e){t(e.target.value)},children:[(0,S.jsx)(W.Z,{value:m.c.VOTING,children:(0,S.jsx)(d.cC,{id:"Voting power"})}),(0,S.jsx)(W.Z,{value:m.c.PROPOSITION_POWER,children:(0,S.jsx)(d.cC,{id:"Proposition power"})})]})})},z=t(92997),U=t(1452),X=t(75670),Q=function(e){var r=e.isWrongNetwork,t=e.blocked,n=e.delegationType,a=e.delegationToken,o=e.delegate,i=(0,U.y)().governanceDelegationService,s=(0,A.Z)().currentAccount,c=(0,z.Q)({tryPermit:!1,handleGetTxns:function(){var e=(0,b.Z)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.delegateByType({user:s,delegatee:o,delegationType:n,governanceToken:a.address}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),skip:t||!(null!==a&&void 0!==a&&a.address),deps:[o,n,null===a||void 0===a?void 0:a.address]}),l=c.action,u=c.loadingTxns,p=c.mainTxState,x=c.requiresApproval;return(0,S.jsx)(X.B,{requiresApproval:x,blocked:t,preparingTransactions:u,mainTxState:p,isWrongNetwork:r,handleAction:l,actionText:(0,S.jsx)(d.cC,{id:"Delegate"}),actionInProgressText:(0,S.jsx)(d.cC,{id:"Delegating"})})};!function(e){e[e.NOT_ENOUGH_BALANCE=0]="NOT_ENOUGH_BALANCE",e[e.NOT_AN_ADDRESS=1]="NOT_AN_ADDRESS"}(n||(n={}));var J=function(){var e=(0,A.Z)().chainId,r=(0,s.useContext)(T).daveTokens,t=r.aave,a=r.stkAave,o=(0,c.vR)(),i=o.gasLimit,l=o.mainTxState,b=o.txError,j=(0,O.f)(),y=j.currentNetworkConfig,Z=j.currentChainId,w=(0,s.useState)(""),C=w[0],D=w[1],R=(0,s.useState)(m.c.VOTING),W=R[0],G=R[1],V=(0,s.useState)(""),F=V[0],$=V[1],L=[{address:k.d.stkAaveTokenAddress,symbol:"stkAAVE",name:"Staked AAVE",amount:a},{address:k.d.aaveTokenAddress,symbol:"AAVE",name:"AAVE",amount:t}],z=L.find((function(e){return e.address===C})),U=void 0;""===F||v.isAddress(F)||(0,p.Nv)(F)||(U=n.NOT_AN_ADDRESS);var X=y.isFork&&y.underlyingChainId===k.d.chainId?Z:k.d.chainId,J=e!==X,Y=(0,P.Mo)(X);return b&&b.blocking?(0,S.jsx)(E.D,{txError:b}):l.success?(0,S.jsx)(I.R,{action:(0,S.jsx)(d.cC,{id:"Delegation"})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(_.E,{title:"Delegate your power"}),J&&(0,S.jsx)(M.I,{networkName:Y.name,chainId:X}),(0,S.jsx)(x.Z,{variant:"description",children:(0,S.jsx)(d.cC,{id:"Asset to delegate"})}),(0,S.jsx)(q,{setDelegationToken:D,delegationTokenAddress:C,delegationTokens:L}),(0,S.jsx)(x.Z,{variant:"description",children:(0,S.jsx)(d.cC,{id:"Type of delegation"})}),(0,S.jsx)(H,{delegationType:W,setDelegationType:G}),(0,S.jsx)(x.Z,{variant:"description",children:(0,S.jsx)(d.cC,{id:"Recipient address"})}),(0,S.jsx)(f.Z,{error:void 0!==U,variant:"standard",fullWidth:!0,children:(0,S.jsx)(h.Z,{variant:"outlined",fullWidth:!0,value:F,onChange:function(e){return $(e.target.value)},placeholder:u.ag._("Enter ETH address"),error:void 0!==U,helperText:U===n.NOT_AN_ADDRESS?(0,S.jsx)(d.cC,{id:"Not a valid address"}):null})}),(0,S.jsx)(B.g,{gasLimit:(0,g.parseUnits)(i||"0","wei")}),b&&(0,S.jsx)(N.Q,{txError:b}),(0,S.jsx)(Q,{delegationType:W,delegationToken:z,delegate:F,isWrongNetwork:J,blocked:void 0!==U||""===F||!W||!z})]})},Y=function(){var e=(0,c.vR)(),r=e.type,t=e.close;return(0,S.jsx)(l.P,{open:r===c.w8.GovDelegation,setOpen:t,children:(0,S.jsx)(J,{})})},K=t(22034),ee=t(56365),re=t(83321),te=t(53219),ne=t(2734),ae=t(98396),oe=t(38577),ie=t(33329);function se(e){var r=e.text,t=e.href;return(0,S.jsx)(re.Z,{variant:"surface",size:"small",sx:{minWidth:"unset"},component:oe.rU,href:t,target:"_blank",rel:"noopener",children:(0,S.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center"},children:[r,(0,S.jsx)(te.Z,{sx:{ml:1,fontSize:14},children:(0,S.jsx)(ee.Z,{})})]})})}var ce=function(){var e=(0,ne.Z)(),r=(0,ae.Z)(e.breakpoints.up("lg")),t=(0,ae.Z)(e.breakpoints.down("xsm"));return(0,S.jsx)(ie.f,{titleComponent:(0,S.jsxs)(R.Z,{mb:4,children:[(0,S.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,S.jsx)("img",{src:"/aave.svg",width:"32px",height:"32px",alt:""}),(0,S.jsx)(x.Z,{variant:t?"h2":r?"display1":"h1",sx:{ml:2,mr:3},children:(0,S.jsx)(d.cC,{id:"Aave Governance"})})]}),(0,S.jsxs)(x.Z,{sx:{color:"#8E92A3",maxWidth:"824px"},children:[(0,S.jsx)(d.cC,{id:"Aave is a fully decentralized, community governed protocol by the AAVE token-holders. AAVE token-holders collectively discuss, propose, and vote on upgrades to the protocol. AAVE token-holders can either vote themselves on new proposals or delagate to an address of choice. To learn more check out the Governance documentation"})," ",(0,S.jsx)(oe.rU,{href:"https://docs.aave.com/faq/governance",sx:{textDecoration:"underline",color:"#8E92A3"},children:(0,S.jsx)(d.cC,{id:"here."})})]})]}),children:(0,S.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap",maxWidth:"sm"},children:[(0,S.jsx)(se,{text:"SNAPSHOTS",href:"https://snapshot.org/#/aave.eth"}),(0,S.jsx)(se,{text:"FORUM",href:"https://governance.aave.com/"}),(0,S.jsx)(se,{text:"FAQ",href:"https://docs.aave.com/faq/governance"})]})})},le=t(90116),de=t(4730),ue=t(88441),pe=t(24076),xe=t(67525),fe=t(79668),he=t(84521),ve=t(45802),ge=t(10014),me=t(72482),be=t(3176);function je(e){var r=e.proposal,t=e.prerendered,n=e.ipfs,a=(0,me.J)(r),o=a.nayPercent,i=a.yaePercent,s=a.nayVotes,c=a.yaeVotes,l=a.quorumReached,u=a.diffReached,p=t&&!(0,fe.u)(r);return(0,S.jsxs)(R.Z,{sx:{px:6,py:8,display:"flex",flexWrap:"wrap",borderBottom:function(e){return"1px solid ".concat(e.palette.divider)}},component:oe.rU,href:t?oe.Z6.prerenderedProposal(r.id):oe.Z6.dynamicRenderedProposal(r.id),children:[(0,S.jsxs)(R.Z,{sx:{width:{xs:"100%",lg:"70%"},display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,S.jsx)(x.Z,{variant:"h3",gutterBottom:!0,sx:{overflow:"hidden",textOverflow:"ellipsis"},children:n.title}),(0,S.jsxs)(R.Z,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,S.jsx)(ge.U,{state:r.state,loading:p}),(0,S.jsx)(ve.G,{state:r.state,executionTime:r.executionTime,expirationTimestamp:r.expirationTimestamp,executionTimeWithGracePeriod:r.executionTimeWithGracePeriod}),(0,S.jsx)(he.o,{text:(0,S.jsx)(d.cC,{id:"Quorum"}),checked:l,loading:p}),(0,S.jsx)(he.o,{text:(0,S.jsx)(d.cC,{id:"Differential"}),checked:u,loading:p})]})]}),(0,S.jsxs)(R.Z,{sx:{flexGrow:1,pl:{xs:0,lg:4},mt:{xs:7,lg:0}},children:[(0,S.jsx)(be.A,{yae:!0,percent:i,votes:c,sx:{mb:4},loading:p}),(0,S.jsx)(be.A,{percent:o,votes:s,loading:p})]})]})}var ye=["values"],Ze=["values"];function we(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ke(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?we(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Pe(e){var r=e.proposals,t=(0,s.useState)(!0),n=t[0],a=t[1],o=(0,s.useState)(!0),i=o[0],c=o[1],l=(0,s.useState)(r),u=l[0],f=l[1],h=(0,s.useState)("all"),v=h[0],g=h[1];function m(){return(m=(0,b.Z)(Z().mark((function e(){var r,t,n,o,i,s;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.M.getProposalsCount();case 3:if(r=e.sent,t=[],console.log("fetching ".concat(r-u.length," new proposals")),!(r-u.length)){e.next=31;break}n=u.length;case 8:if(!(n<r)){e.next=30;break}return e.next=11,xe.M.getProposal({proposalId:n});case 11:return o=e.sent,o.values,i=(0,de.Z)(o,ye),e.next=16,(0,me.r)(i);case 16:return s=e.sent,e.t0=t,e.t1=ke,e.t2={id:n,originalHash:s.ipfsHash},e.next=22,(0,pe.m)(s.ipfsHash,k.d.ipfsGateway);case 22:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=s,e.t6={ipfs:e.t4,proposal:e.t5,prerendered:!1},e.t0.push.call(e.t0,e.t6);case 27:n++,e.next=8;break;case 30:f((function(e){return[].concat((0,le.Z)(e),t)}));case 31:a(!1),e.next=37;break;case 34:e.prev=34,e.t7=e.catch(0),console.log("error fetching new proposals",e.t7);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})))).apply(this,arguments)}function j(){return j=(0,b.Z)(Z().mark((function e(){var r,t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.filter((function(e){var r=e.proposal;return!(0,fe.u)(r)})),console.log("update pending proposals",r.length),e.prev=2,!r.length){e.next=8;break}return e.next=6,Promise.all(r.map(function(){var e=(0,b.Z)(Z().mark((function e(r){var t,n,a;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.proposal,e.next=3,xe.M.getProposal({proposalId:t.id});case 3:return n=e.sent,n.values,a=(0,de.Z)(n,Ze),e.abrupt("return",(0,me.r)(a));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:t=e.sent,f((function(e){return t.map((function(r){e[r.id].proposal=r,e[r.id].prerendered=!1})),e}));case 8:c(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("error updating proposals",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),j.apply(this,arguments)}return(0,C.W)((function(){return m.apply(this,arguments)}),6e4,!1,[u.length]),(0,C.W)((function(){return j.apply(this,arguments)}),3e4,!1,[u.length]),(0,S.jsxs)("div",{children:[(0,S.jsxs)(R.Z,{sx:{px:6,py:8,display:"flex",alignItems:"center",borderBottom:"1px solid",borderColor:"divider"},children:[(0,S.jsx)(x.Z,{variant:"h3",sx:{flexGrow:1},children:(0,S.jsx)(d.cC,{id:"Proposals"})}),(0,S.jsx)(x.Z,{sx:{mx:4},children:(0,S.jsx)(d.cC,{id:"Filter"})}),(0,S.jsxs)(V.Z,{id:"filter",value:v,sx:{minWidth:140},onChange:function(e){g(e.target.value)},children:[(0,S.jsx)(W.Z,{value:"all",children:(0,S.jsx)(d.cC,{id:"All proposals"})}),Object.keys(p.r7).map((function(e){return(0,S.jsx)(W.Z,{value:e,children:e},e)}))]})]}),(n||i)&&(0,S.jsx)(ue.Z,{}),u.slice().reverse().filter((function(e){return"all"===v||e.proposal.state===v})).map((function(e){var r=e.proposal,t=e.prerendered,n=e.ipfs;return(0,S.jsx)(je,{proposal:r,ipfs:n,prerendered:t},r.id)}))]})}var Oe=t(67720),Ae=t(32867),Ce=t(20986),Se=t(94010),Te=t(64918);function De(){var e=(0,A.Z)().currentAccount,r=(0,Te.G)(),t=r.votingPower,n=r.propositionPower,a=(0,c.vR)().openGovDelegation;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(R.Z,{sx:{px:6,py:4},children:[(0,S.jsx)(x.Z,{variant:"h3",gutterBottom:!0,children:(0,S.jsx)(d.cC,{id:"Your info"})}),e&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ce.X,{sx:{py:2},caption:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{variant:"description",children:(0,S.jsx)(d.cC,{id:"Voting power"})}),(0,S.jsx)(x.Z,{variant:"caption",color:"text.secondary",children:"(AAVE + stkAAVE)"})]}),children:(0,S.jsx)(Ae.B,{value:t||0,variant:"main16",visibleDecimals:2})}),(0,S.jsx)(Ce.X,{sx:{py:2},caption:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.Z,{variant:"description",children:(0,S.jsx)(d.cC,{id:"Proposition power"})}),(0,S.jsx)(x.Z,{variant:"caption",color:"text.secondary",children:"(AAVE + stkAAVE)"})]}),children:(0,S.jsx)(Ae.B,{value:n||0,variant:"main16",visibleDecimals:2})})]})]}),(0,S.jsx)(Oe.Z,{}),(0,S.jsxs)(R.Z,{sx:{px:6,pt:4,pb:6,display:"flex",alignItems:"center"},children:[(0,S.jsx)(R.Z,{sx:{flexGrow:1},children:(0,S.jsx)(x.Z,{children:"Delegate your power"})}),e?(0,S.jsx)(re.Z,{variant:"contained",disabled:"0"===t&&"0"===n,onClick:function(){return a()},children:(0,S.jsx)(d.cC,{id:"Delegate"})}):(0,S.jsx)(Se.p,{})]})]})}var Ee=t(64283);function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ie(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ne(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _e=!0;function Be(e){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ce,{}),(0,S.jsx)(Ee.O,{children:(0,S.jsxs)(o.ZP,{container:!0,spacing:4,children:[(0,S.jsx)(o.ZP,{item:!0,xs:12,md:4,children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(De,{})})}),(0,S.jsx)(o.ZP,{item:!0,xs:12,md:8,children:(0,S.jsx)(i.Z,{children:(0,S.jsx)(Pe,Ie({},e))})})]})})]})}Be.getLayout=function(e){return(0,S.jsx)(K.Z,{children:(0,S.jsx)(U.C,{children:(0,S.jsxs)(D,{children:[e,(0,S.jsx)(Y,{})]})})})}},24076:function(e,r,t){"use strict";t.d(r,{m:function(){return g}});var n=t(59499),a=t(50029),o=t(87794),i=t.n(o),s=t(56371),c=t(63144),l=t.n(c),d=t(9675),u=t.n(d),p=t(48764).Buffer;function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e,r){return"".concat(r,"/").concat(e)}var v={};function g(e){return m.apply(this,arguments)}function m(){return m=(0,a.Z)(i().mark((function e(r){var t,n,a,o,c,d,x,g,m,b,j,y,Z=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Z.length>1&&void 0!==Z[1]?Z[1]:"https://cloudflare-ipfs.com/ipfs",n=r.startsWith("0x")?s.base58.encode(p.from("1220".concat(r.slice(2)),"hex")):r,!v[n]){e.next=4;break}return e.abrupt("return",v[n]);case 4:return e.next=6,l()(h(n,t),{headers:{"Content-Type":"application/json"}});case 6:if((a=e.sent).ok){e.next=9;break}throw Error("Fetch not working");case 9:return e.next=11,a.clone();case 11:return o=e.sent,e.prev=12,e.next=15,a.json();case 15:c=e.sent,d=u()(c.description),x=d.content,g=d.data,v[n]=f(f({},c),{},{ipfsHash:n,description:x},g),e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(12),e.next=24,o.text();case 24:m=e.sent,b=u()(m),j=b.content,y=b.data,v[n]=f(f({},y),{},{ipfsHash:n,description:j});case 27:return e.abrupt("return",v[n]);case 28:case"end":return e.stop()}}),e,null,[[12,20]])}))),m.apply(this,arguments)}},2554:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return t(48938)}])},33596:function(){}},function(e){e.O(0,[146,896,953,675,280,121,774,888,179],(function(){return r=2554,e(e.s=r);var r}));var r=e.O();_N_E=r}]);