(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{16700:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(59499),c=r(4730),o=r(50029),s=r(87794),u=r.n(s),a=r(11163),i=r(67294),p=r(40013),f=r(1452),l=r(22034),b=r(72482),O=r(24076),h=r(67525),d=r(58537),y=r(9194),j=r(85893),v=["values"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(){var e=(0,a.useRouter)(),t=Number(e.query.proposalId),r=(0,i.useState)(),n=r[0],s=r[1],p=(0,i.useState)(),f=p[0],l=p[1];function w(){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(u().mark((function e(){var r,n,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.M.getProposal({proposalId:t});case 3:return r=e.sent,r.values,n=(0,c.Z)(r,v),e.next=8,(0,b.r)(n);case 8:return o=e.sent,s(o),e.t0=g,e.t1={id:t,originalHash:o.ipfsHash},e.next=14,(0,O.m)(o.ipfsHash,null===d.d||void 0===d.d?void 0:d.d.ipfsGateway);case 14:e.t2=e.sent,a=(0,e.t0)(e.t1,e.t2),l(a),e.next=23;break;case 19:e.prev=19,e.t3=e.catch(0),console.log(e.t3),setTimeout(w,5e3);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){t&&w()}),[t]),(0,j.jsx)(y.default,{ipfs:f,proposal:n})}x.getLayout=function(e){return(0,j.jsx)(l.Z,{children:(0,j.jsxs)(f.C,{children:[e,(0,j.jsx)(p.m,{})]})})}},24076:function(e,t,r){"use strict";r.d(t,{m:function(){return y}});var n=r(59499),c=r(50029),o=r(87794),s=r.n(o),u=r(56371),a=r(63144),i=r.n(a),p=r(9675),f=r.n(p),l=r(48764).Buffer;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){return"".concat(t,"/").concat(e)}var d={};function y(e){return j.apply(this,arguments)}function j(){return j=(0,c.Z)(s().mark((function e(t){var r,n,c,o,a,p,b,y,j,v,w,g,x=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:"https://cloudflare-ipfs.com/ipfs",n=t.startsWith("0x")?u.base58.encode(l.from("1220".concat(t.slice(2)),"hex")):t,!d[n]){e.next=4;break}return e.abrupt("return",d[n]);case 4:return e.next=6,i()(h(n,r),{headers:{"Content-Type":"application/json"}});case 6:if((c=e.sent).ok){e.next=9;break}throw Error("Fetch not working");case 9:return e.next=11,c.clone();case 11:return o=e.sent,e.prev=12,e.next=15,c.json();case 15:a=e.sent,p=f()(a.description),b=p.content,y=p.data,d[n]=O(O({},a),{},{ipfsHash:n,description:b},y),e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(12),e.next=24,o.text();case 24:j=e.sent,v=f()(j),w=v.content,g=v.data,d[n]=O(O({},g),{},{ipfsHash:n,description:w});case 27:return e.abrupt("return",d[n]);case 28:case"end":return e.stop()}}),e,null,[[12,20]])}))),j.apply(this,arguments)}},35878:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance/proposal",function(){return r(16700)}])},33596:function(){}},function(e){e.O(0,[146,896,953,607,675,280,121,194,774,888,179],(function(){return t=35878,e(e.s=t);var t}));var t=e.O();_N_E=t}]);