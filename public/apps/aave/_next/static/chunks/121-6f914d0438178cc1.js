"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[121],{94010:function(e,t,r){r.d(t,{p:function(){return s}});var n=r(85169),o=r(83321),i=r(96183),a=r(36920),c=r(85893),s=function(){var e=(0,i.qr)().setWalletModalOpen;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{variant:"gradient",onClick:function(){return e(!0)},children:(0,c.jsx)(n.cC,{id:"Connect wallet"})}),(0,c.jsx)(a.x,{})]})}},84521:function(e,t,r){r.d(t,{o:function(){return g}});var n=r(59499),o=r(4730),i=r(2905),a=r(75426),c=r(33740),s=r(2734),u=r(87357),p=r(15861),d=r(85893),l=["checked","text","variant","loading"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=e.checked,r=e.text,n=e.variant,f=void 0===n?"subheader2":n,g=e.loading,b=(0,o.Z)(e,l),y=(0,s.Z)().palette;return(0,d.jsxs)(u.Z,v(v({},b),{},{sx:v({display:"flex",alignItems:"center"},b.sx),children:[(0,d.jsx)(p.Z,{variant:f,component:"span",sx:{mr:1},children:r}),g?(0,d.jsx)(i.Z,{height:16}):t?(0,d.jsx)(a.Z,{height:16,color:y.success.main}):(0,d.jsx)(c.Z,{height:16,color:y.error.main})]}))}},1452:function(e,t,r){r.d(t,{C:function(){return w},y:function(){return P}});var n=r(67294),o=r(58537),i=r(59499),a=r(17674),c=r(50029),s=r(87794),u=r.n(s),p=r(19091),d=r(1279),l=r(66252),f=r(72005),v=r(2450),g=r(27923),b=r(45555),y=r(64918);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e,t){return e.toLocaleLowerCase()===t.toLocaleLowerCase()?"":e};var x=r(85893),j=n.createContext({}),w=function(e){var t=e.children,r=function(e){var t=e.governanceConfig,r=(0,l.x)().cache,n=(0,f.Z)().currentAccount,o=(0,b.f)(),i=o.currentNetworkConfig,s=o.jsonRpcProvider,O=i.isFork&&i.underlyingChainId===t.chainId,x=O?s:(0,v.VH)(t.chainId),j=t.aaveTokenAddress,w=t.stkAaveTokenAddress,P=new p.d2(x,{GOVERNANCE_ADDRESS:t.addresses.AAVE_GOVERNANCE_V2,GOVERNANCE_HELPER_ADDRESS:t.addresses.AAVE_GOVERNANCE_V2_HELPER,ipfsGateway:t.ipfsGateway}),E=new p.Ct(x);function A(){return(A=(0,c.Z)(u().mark((function e(){var t,o,i,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getTokensPower({user:n,tokens:[j,w]});case 3:t=e.sent,o=(0,a.Z)(t,2),i=o[0],c=o[1],s={votingPower:(0,d.Fv)((0,d.hE)(i.votingPower.toString()).plus(c.votingPower.toString()).toString(),18),aaveTokenPower:i,stkAaveTokenPower:c,propositionPower:(0,d.Fv)((0,d.hE)(i.propositionPower.toString()).plus(c.propositionPower.toString()).toString(),18),aaveVotingDelegatee:m(i.delegatedAddressVotingPower,n),aavePropositionDelegatee:m(i.delegatedAddressPropositionPower,n),stkAaveVotingDelegatee:m(c.delegatedAddressVotingPower,n),stkAavePropositionDelegatee:m(c.delegatedAddressPropositionPower,n)},r.writeQuery({query:y.p,variables:{userAccount:n},data:{__typename:"Query",votingPowers:h({__typename:"VotingPowers"},s)}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error fetching powers",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return(0,g.W)((function(){return A.apply(this,arguments)}),6e4,!n||!t||!P,[n,O]),{governanceService:P,governanceDelegationService:E}}({governanceConfig:o.d}),n=r.governanceService,i=r.governanceDelegationService;return(0,x.jsx)(j.Provider,{value:{governanceService:n,governanceDelegationService:i},children:t})},P=function(){return(0,n.useContext)(j)}},64918:function(e,t,r){r.d(t,{p:function(){return d},G:function(){return l}});var n,o=r(59499),i=r(71383),a=r(17283),c=r(81613),s=r(72005);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=(0,a.Ps)(n||(n=(0,i.Z)(["\n  query VotingPowers($userAccount: String) {\n    votingPowers(userAccount: $userAccount) {\n      votingPower @client\n      propositionPower @client\n      aaveVotingDelegatee @client\n      aavePropositionDelegatee @client\n      stkAaveVotingDelegatee @client\n      stkAavePropositionDelegatee @client\n      aaveTokenPower @client\n      stkAaveTokenPower @client\n    }\n  }\n"]))),l=function(){var e=(0,s.Z)().currentAccount,t=(0,c.a)(d,{variables:{userAccount:e},fetchPolicy:"cache-only"}),r=t.data,n=t.loading;return p(p({},(null===r||void 0===r?void 0:r.votingPowers)||{}),{},{loading:n})}},45802:function(e,t,r){r.d(t,{G:function(){return l}});var n=r(85169),o=r(19091),i=r(15861),a=r(27484),c=r.n(a),s=r(84110),u=r.n(s),p=r(87970),d=r(85893);function l(e){var t=e.state,r=e.executionTime,a=e.expirationTimestamp,s=e.executionTimeWithGracePeriod,u=(0,p.p)(30);if([o.r7.Active,o.r7.Pending].includes(t))return(0,d.jsxs)(i.Z,{component:"span",variant:"caption",children:[(0,d.jsxs)(i.Z,{variant:"caption",color:"text.secondary",sx:{display:{xs:"none",md:"inline"}},children:[t,"\xa0",(0,d.jsx)(n.cC,{id:"ends"}),"\xa0"]}),c().unix(a).fromNow()]});if([o.r7.Canceled,o.r7.Expired,o.r7.Failed,o.r7.Succeeded,o.r7.Executed].includes(t))return(0,d.jsxs)(i.Z,{component:"span",variant:"caption",children:[(0,d.jsxs)(i.Z,{variant:"caption",color:"text.secondary",sx:{display:{xs:"none",md:"inline"}},children:[t,"\xa0",(0,d.jsx)(n.cC,{id:"on"}),"\xa0"]}),c().unix(t===o.r7.Executed?r:a).format("MMM DD, YYYY")]});var l=u>r;return(0,d.jsxs)(i.Z,{component:"span",variant:"caption",children:[(0,d.jsxs)(i.Z,{variant:"caption",color:"text.secondary",sx:{display:{xs:"none",md:"inline"}},children:[l?(0,d.jsx)(n.cC,{id:"Expires"}):(0,d.jsx)(n.cC,{id:"Can be executed"}),"\xa0"]}),c().unix(l?s:r).fromNow()]})}c().extend(u())},10014:function(e,t,r){r.d(t,{U:function(){return f}});var n=r(59499),o=r(19091),i=r(90948),a=r(20525),c=r(41796),s=r(88078),u=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=(0,i.ZP)("span")((function(e){var t,r=e.theme,i=e.state,s=(t={},(0,n.Z)(t,o.r7.Active,r.palette.secondary.main),(0,n.Z)(t,o.r7.Queued,r.palette.warning.main),(0,n.Z)(t,o.r7.Pending,r.palette.info.main),(0,n.Z)(t,o.r7.Succeeded,r.palette.success.main),(0,n.Z)(t,o.r7.Executed,r.palette.success.main),(0,n.Z)(t,o.r7.Canceled,r.palette.primary.light),(0,n.Z)(t,o.r7.Expired,r.palette.primary.light),(0,n.Z)(t,o.r7.Failed,r.palette.error.main),t)[i]||"#000";return(0,a.Z)(d(d({},r.typography.subheader2),{},{color:s,border:"1px solid",borderColor:(0,c.Fq)(s,.5),py:.5,px:2,borderRadius:1,display:"inline-flex",alignItems:"center","&:before":{content:'""',width:"6px",height:"6px",borderRadius:"50%",marginRight:"7px",display:"inline-block",backgroundColor:s}}))}));function f(e){var t=e.state;return e.loading?(0,u.jsx)(s.Z,{width:70}):(0,u.jsx)(l,{state:t,children:t})}},3176:function(e,t,r){r.d(t,{A:function(){return O}});var n=r(59499),o=r(4730),i=r(85169),a=r(90948),c=r(20525),s=r(87357),u=r(15861),p=r(88078),d=r(32867),l=r(85893),f=["percent","yae","votes","loading"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=(0,a.ZP)("div")((0,c.Z)({position:"relative",width:"100%",height:"8px",bgcolor:"divider",display:"block",borderRadius:"6px"})),y=(0,a.ZP)("span",{shouldForwardProp:function(e){return"yae"!==e&&"percent"!==e}})((function(e){var t=e.percent,r=e.yae;return(0,c.Z)({position:"absolute",top:0,left:0,width:"".concat(100*t,"%"),maxWidth:"100%",height:"8px",bgcolor:r?"success.main":"error.light",display:"block",borderRadius:"6px"})}));function O(e){var t=e.percent,r=e.yae,n=e.votes,a=e.loading,c=(0,o.Z)(e,f);return(0,l.jsxs)(s.Z,g(g({},c),{},{children:[(0,l.jsxs)(s.Z,{sx:{display:"flex"},children:[(0,l.jsx)(u.Z,{variant:"description",sx:{mr:2},children:r?(0,l.jsx)(i.cC,{id:"YAE"}):(0,l.jsx)(i.cC,{id:"NAY"})}),a?(0,l.jsx)(u.Z,{variant:"secondary14",sx:{flexGrow:1,lineHeight:"1rem"},children:(0,l.jsx)(p.Z,{width:40})}):(0,l.jsx)(d.B,{value:n,sx:{flexGrow:1},visibleDecimals:2,variant:"secondary14"}),a?(0,l.jsx)(u.Z,{variant:"caption",children:(0,l.jsx)(p.Z,{width:40})}):(0,l.jsx)(d.B,{value:t,percent:!0,variant:"caption",color:"text.secondary"})]}),a?(0,l.jsx)(p.Z,{variant:"rectangular",height:8,sx:{borderRadius:"6px"}}):(0,l.jsx)(b,{children:(0,l.jsx)(y,{percent:t,yae:r})})]}))}},72482:function(e,t,r){r.d(t,{J:function(){return g},r:function(){return b}});var n=r(59499),o=r(17674),i=r(50029),a=r(87794),c=r.n(a),s=r(19091),u=r(1279),p=r(44431),d=r.n(p),l=r(2450);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=new(d())(e.forVotes).plus(e.againstVotes),r=t.gt(0)?new(d())(e.forVotes).dividedBy(t).toNumber():0,n=(0,u.pV)(e.forVotes,18).toNumber(),o=t.gt(0)?new(d())(e.againstVotes).dividedBy(t).toNumber():0,i=(0,u.pV)(e.againstVotes,18).toNumber(),a=new(d())(e.totalVotingSupply).multipliedBy(new(d())(e.minimumQuorum).div(1e4)),c=!1;new(d())(e.forVotes).gte(a)&&(c=!0);var s=new(d())(e.forVotes).minus(e.againstVotes),p=new(d())(e.forVotes).plus(e.againstVotes),l=new(d())(e.totalVotingSupply).multipliedBy(e.minimumDiff).dividedBy(1e4),f=l.lte(s)&&!p.eq(0);return{totalVotes:(0,u.pV)(t,18).toNumber(),yaePercent:r,yaeVotes:n,nayPercent:o,nayVotes:i,minQuorumVotes:(0,u.pV)(a,18).toNumber(),quorumReached:c,diff:(0,u.pV)(s,18).toNumber(),requiredDiff:(0,u.pV)(l,18).toNumber(),diffReached:f}}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)(c().mark((function e(t){var r,n,i,a,u,p,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,l.VH)(s.a_.mainnet),e.next=3,Promise.all([r.getBlock(t.startBlock),r.getBlock(t.proposalCreated)]);case 3:if(n=e.sent,i=(0,o.Z)(n,2),a=i[0].timestamp,u=i[1].timestamp,t.state!==s.r7.Active){e.next=12;break}return e.next=10,r.getBlock("latest");case 10:return p=e.sent,e.abrupt("return",v(v({},t),{},{startTimestamp:a,creationTimestamp:u,expirationTimestamp:p.timestamp+14*(t.endBlock-p.number)}));case 12:return d=a+14*(t.endBlock-t.startBlock),e.abrupt("return",v(v({},t),{},{startTimestamp:a,creationTimestamp:u,expirationTimestamp:d}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67525:function(e,t,r){r.d(t,{M:function(){return a}});var n=r(19091),o=r(58537),i=r(2450),a=new n.d2((0,i.VH)(o.d.chainId),{GOVERNANCE_ADDRESS:o.d.addresses.AAVE_GOVERNANCE_V2,GOVERNANCE_HELPER_ADDRESS:o.d.addresses.AAVE_GOVERNANCE_V2_HELPER})},79668:function(e,t,r){r.d(t,{u:function(){return o}});var n=r(19091),o=function(e){return![n.r7.Active,n.r7.Pending,n.r7.Queued,n.r7.Succeeded].includes(e.state)}},58537:function(e,t,r){r.d(t,{d:function(){return n}});var n={chainId:r(19091).a_.mainnet,votingAssetName:"AAVE + stkAAVE",averageNetworkBlockTime:13.5,queryGovernanceDataUrl:"https://api.thegraph.com/subgraphs/name/aave/governance-v2",wsGovernanceDataUrl:"wss://api.thegraph.com/subgraphs/name/aave/governance-v2",aaveTokenAddress:"0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9",aAaveTokenAddress:"0xDa5E8e1C3596D3Cc11a4dd5aD66b8f03B5410F8C",stkAaveTokenAddress:"0x4da27a545c0c5b758a6ba100e3a049001de870f5",governanceForumLink:"https://governance.aave.com",governanceFAQLink:"https://docs.aave.com/faq/governance",walletBalanceProvider:"0x8E8dAd5409E0263a51C0aB5055dA66Be28cFF922",governanceSnapshotLink:"https://snapshot.org/#/aave.eth",addresses:{AAVE_GOVERNANCE_V2:"0xEC568fffba86c094cf06b22134B23074DFE2252c",AAVE_GOVERNANCE_V2_EXECUTOR_SHORT:"0x61910EcD7e8e942136CE7Fe7943f956cea1CC2f7",AAVE_GOVERNANCE_V2_EXECUTOR_LONG:"0xEE56e2B3D491590B5b31738cC34d5232F378a8D5",AAVE_GOVERNANCE_V2_HELPER:"0x16ff7583ea21055bf5f929ec4b896d997ff35847"},ipfsGateway:"https://gateway.pinata.cloud/ipfs"}}}]);